EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "esp32-warm-water control board"
Date "2021-07-07"
Rev "v0.2"
Comp "author: wolffshots"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L RF_Module:ESP32-WROOM-32 U1
U 1 1 60CD47A6
P 8750 2800
F 0 "U1" H 8750 4381 50  0000 R CNN
F 1 "ESP32-WROOM-32" H 8750 4290 50  0000 R CNN
F 2 "RF_Module:ESP32-WROOM-32" H 8750 1300 50  0001 C CNN
F 3 "https://www.espressif.com/sites/default/files/documentation/esp32-wroom-32_datasheet_en.pdf" H 8450 2850 50  0001 C CNN
	1    8750 2800
	1    0    0    -1  
$EndComp
$Comp
L Connector:Screw_Terminal_01x03 J1
U 1 1 60CDEB35
P 1450 6550
F 0 "J1" V 1530 6592 50  0000 L CNN
F 1 "TEMPS" V 1550 6300 50  0000 R CNN
F 2 "Connector_JST:JST_XH_B3B-XH-A_1x03_P2.50mm_Vertical" H 1450 6550 50  0001 C CNN
F 3 "~" H 1450 6550 50  0001 C CNN
	1    1450 6550
	0    -1   -1   0   
$EndComp
Text Notes 950  6400 0    50   ~ 0
Temp sensors
Text Notes 3200 6450 0    50   ~ 0
Relay
Text Notes 950  4750 0    50   ~ 0
OLED
Text Notes 950  950  0    50   ~ 0
USB for programming/power
$Comp
L Device:R R1
U 1 1 60E49C74
P 1450 7000
F 0 "R1" H 1520 7046 50  0000 L CNN
F 1 "4k7" H 1520 6955 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 1380 7000 50  0001 C CNN
F 3 "~" H 1450 7000 50  0001 C CNN
	1    1450 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 6750 1450 6800
$Comp
L power:+3V3 #PWR0101
U 1 1 60E4BBF1
P 1150 6750
F 0 "#PWR0101" H 1150 6600 50  0001 C CNN
F 1 "+3V3" H 1165 6923 50  0000 C CNN
F 2 "" H 1150 6750 50  0001 C CNN
F 3 "" H 1150 6750 50  0001 C CNN
	1    1150 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 6750 1150 6800
Wire Wire Line
	1150 6800 1450 6800
Connection ~ 1450 6800
Wire Wire Line
	1450 6800 1450 6850
Wire Wire Line
	1350 6750 1350 7150
Wire Wire Line
	1350 7150 1450 7150
Text GLabel 1350 6950 0    50   Input ~ 0
GPIO14
$Comp
L power:GND #PWR0102
U 1 1 60E4DD96
P 1800 6850
F 0 "#PWR0102" H 1800 6600 50  0001 C CNN
F 1 "GND" H 1805 6677 50  0000 C CNN
F 2 "" H 1800 6850 50  0001 C CNN
F 3 "" H 1800 6850 50  0001 C CNN
	1    1800 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 6750 1550 6800
Wire Wire Line
	1550 6800 1800 6800
Wire Wire Line
	1800 6800 1800 6850
Text GLabel 9450 2400 2    50   Input ~ 0
GPIO14
Wire Wire Line
	9350 2400 9450 2400
$Comp
L power:GND #PWR0103
U 1 1 60E4F914
P 8750 4300
F 0 "#PWR0103" H 8750 4050 50  0001 C CNN
F 1 "GND" H 8755 4127 50  0000 C CNN
F 2 "" H 8750 4300 50  0001 C CNN
F 3 "" H 8750 4300 50  0001 C CNN
	1    8750 4300
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x04_Female J2
U 1 1 60E50FEA
P 1400 4800
F 0 "J2" V 1338 4512 50  0000 R CNN
F 1 "OLED" V 1247 4512 50  0000 R CNN
F 2 "Connector_JST:JST_XH_B4B-XH-A_1x04_P2.50mm_Vertical" H 1400 4800 50  0001 C CNN
F 3 "~" H 1400 4800 50  0001 C CNN
	1    1400 4800
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 60E53021
P 1300 5100
F 0 "#PWR0104" H 1300 4850 50  0001 C CNN
F 1 "GND" H 1305 4927 50  0000 C CNN
F 2 "" H 1300 5100 50  0001 C CNN
F 3 "" H 1300 5100 50  0001 C CNN
	1    1300 5100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 5000 1300 5100
$Comp
L power:+3V3 #PWR0105
U 1 1 60E55E20
P 1050 5350
F 0 "#PWR0105" H 1050 5200 50  0001 C CNN
F 1 "+3V3" H 1065 5523 50  0000 C CNN
F 2 "" H 1050 5350 50  0001 C CNN
F 3 "" H 1050 5350 50  0001 C CNN
	1    1050 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 5350 1400 5350
Wire Wire Line
	1400 5350 1400 5000
Text GLabel 1500 5000 3    50   Input ~ 0
SCL
Text GLabel 1600 5000 3    50   Input ~ 0
SDA
Text GLabel 9450 3000 2    50   Input ~ 0
SDA
Text GLabel 9450 3100 2    50   Input ~ 0
SCL
Wire Wire Line
	9350 3000 9450 3000
Wire Wire Line
	9350 3100 9450 3100
$Comp
L Connector:Conn_01x04_Female J3
U 1 1 60E5AFDE
P 3500 6500
F 0 "J3" V 3438 6212 50  0000 R CNN
F 1 "RELAY" V 3347 6212 50  0000 R CNN
F 2 "Connector_JST:JST_XH_B4B-XH-A_1x04_P2.50mm_Vertical" H 3500 6500 50  0001 C CNN
F 3 "~" H 3500 6500 50  0001 C CNN
	1    3500 6500
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR0106
U 1 1 60E5C419
P 3400 6800
F 0 "#PWR0106" H 3400 6550 50  0001 C CNN
F 1 "GND" H 3405 6627 50  0000 R CNN
F 2 "" H 3400 6800 50  0001 C CNN
F 3 "" H 3400 6800 50  0001 C CNN
	1    3400 6800
	1    0    0    -1  
$EndComp
Text GLabel 3500 6800 3    50   Input ~ 0
CH1
Text GLabel 3600 6800 3    50   Input ~ 0
CH2
$Comp
L Connector:Conn_01x02_Male J4
U 1 1 60E5E64D
P 3700 7000
F 0 "J4" V 3854 6812 50  0000 R CNN
F 1 "RELAY_EN" V 3763 6812 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x02_P2.54mm_Vertical" H 3700 7000 50  0001 C CNN
F 3 "~" H 3700 7000 50  0001 C CNN
	1    3700 7000
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4150 6750 3800 6750
Wire Wire Line
	3800 6750 3800 6800
Text GLabel 9450 2800 2    50   Input ~ 0
CH1
Text GLabel 9450 2900 2    50   Input ~ 0
CH2
Wire Wire Line
	9450 2800 9350 2800
Wire Wire Line
	9450 2900 9350 2900
$Comp
L Device:LED D1
U 1 1 60E6779F
P 1100 3600
F 0 "D1" V 1139 3482 50  0000 R CNN
F 1 "LED" V 1048 3482 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 1100 3600 50  0001 C CNN
F 3 "~" H 1100 3600 50  0001 C CNN
	1    1100 3600
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR01
U 1 1 60E6985D
P 1100 2950
F 0 "#PWR01" H 1100 2800 50  0001 C CNN
F 1 "+3V3" H 1115 3123 50  0000 C CNN
F 2 "" H 1100 2950 50  0001 C CNN
F 3 "" H 1100 2950 50  0001 C CNN
	1    1100 2950
	1    0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 60E6DB9C
P 1100 3200
F 0 "R2" H 1170 3246 50  0000 L CNN
F 1 "330" H 1170 3155 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 1030 3200 50  0001 C CNN
F 3 "~" H 1100 3200 50  0001 C CNN
	1    1100 3200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 60E6FC7F
P 1100 3850
F 0 "#PWR02" H 1100 3600 50  0001 C CNN
F 1 "GND" H 1105 3677 50  0000 C CNN
F 2 "" H 1100 3850 50  0001 C CNN
F 3 "" H 1100 3850 50  0001 C CNN
	1    1100 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 2950 1100 3050
Wire Wire Line
	1100 3350 1100 3450
Wire Wire Line
	1100 3750 1100 3850
Text Notes 950  2700 0    50   ~ 0
Power LED
NoConn ~ 9350 1800
NoConn ~ 9350 2000
NoConn ~ 9350 2100
NoConn ~ 9350 2200
NoConn ~ 9350 2300
NoConn ~ 9350 2500
NoConn ~ 9350 2600
NoConn ~ 9350 2700
NoConn ~ 9350 3200
NoConn ~ 9350 3300
NoConn ~ 9350 3400
NoConn ~ 9350 3500
NoConn ~ 9350 3600
NoConn ~ 9350 3700
NoConn ~ 9350 3800
NoConn ~ 9350 3900
NoConn ~ 8150 3300
NoConn ~ 8150 3200
NoConn ~ 8150 3100
NoConn ~ 8150 3000
NoConn ~ 8150 2900
NoConn ~ 8150 2800
NoConn ~ 8150 1800
NoConn ~ 8150 1900
$Comp
L power:+3V3 #PWR0108
U 1 1 60E7EE5E
P 8850 1400
F 0 "#PWR0108" H 8850 1250 50  0001 C CNN
F 1 "+3V3" H 8865 1573 50  0000 C CNN
F 2 "" H 8850 1400 50  0001 C CNN
F 3 "" H 8850 1400 50  0001 C CNN
	1    8850 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 1400 8850 1400
$Comp
L Regulator_Linear:AMS1117-3.3 U2
U 1 1 60E8504B
P 7550 5400
F 0 "U2" H 7550 5642 50  0000 C CNN
F 1 "AMS1117-3.3" H 7550 5551 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 7550 5600 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 7650 5150 50  0001 C CNN
	1    7550 5400
	1    0    0    -1  
$EndComp
Text Notes 6900 5100 0    50   ~ 0
Voltage regulation
$Comp
L power:GND #PWR04
U 1 1 60E88977
P 7550 5800
F 0 "#PWR04" H 7550 5550 50  0001 C CNN
F 1 "GND" H 7555 5627 50  0000 C CNN
F 2 "" H 7550 5800 50  0001 C CNN
F 3 "" H 7550 5800 50  0001 C CNN
	1    7550 5800
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR05
U 1 1 60E89EBB
P 7950 5400
F 0 "#PWR05" H 7950 5250 50  0001 C CNN
F 1 "+3V3" H 7965 5573 50  0000 C CNN
F 2 "" H 7950 5400 50  0001 C CNN
F 3 "" H 7950 5400 50  0001 C CNN
	1    7950 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7000 5400 7100 5400
Wire Wire Line
	8750 4200 8750 4300
Wire Wire Line
	7850 5400 7950 5400
Wire Wire Line
	7550 5700 7550 5750
$Comp
L Device:C C1
U 1 1 60E94711
P 7250 5750
F 0 "C1" V 6998 5750 50  0000 C CNN
F 1 "10uF" V 7089 5750 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 7288 5600 50  0001 C CNN
F 3 "~" H 7250 5750 50  0001 C CNN
	1    7250 5750
	0    1    1    0   
$EndComp
Wire Wire Line
	7400 5750 7550 5750
Connection ~ 7550 5750
Wire Wire Line
	7550 5750 7550 5800
Wire Wire Line
	7100 5400 7100 5750
Connection ~ 7100 5400
Wire Wire Line
	7100 5400 7250 5400
$Comp
L Connector:USB_B_Micro J5
U 1 1 60E70FA2
P 1200 1500
F 0 "J5" H 1257 1967 50  0000 C CNN
F 1 "USB_B_Micro" H 1257 1876 50  0000 C CNN
F 2 "Connector_USB:USB_Micro-B_Molex_47346-0001" H 1350 1450 50  0001 C CNN
F 3 "~" H 1350 1450 50  0001 C CNN
	1    1200 1500
	1    0    0    -1  
$EndComp
NoConn ~ 1500 1700
NoConn ~ 1100 1900
$Comp
L power:GND #PWR06
U 1 1 60E7A963
P 1200 2000
F 0 "#PWR06" H 1200 1750 50  0001 C CNN
F 1 "GND" H 1205 1827 50  0000 C CNN
F 2 "" H 1200 2000 50  0001 C CNN
F 3 "" H 1200 2000 50  0001 C CNN
	1    1200 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 2000 1200 1900
$Comp
L Interface_USB:CP2104 U3
U 1 1 60E90064
P 4800 2300
F 0 "U3" H 4300 1250 50  0000 R TNN
F 1 "CP2104" H 4500 1350 50  0000 R TNN
F 2 "Package_DFN_QFN:QFN-24-1EP_4x4mm_P0.5mm_EP2.6x2.6mm" H 4950 1350 50  0001 L CNN
F 3 "https://www.silabs.com/documents/public/data-sheets/cp2104.pdf" H 4250 3550 50  0001 C CNN
	1    4800 2300
	1    0    0    -1  
$EndComp
Text GLabel 1600 1500 2    50   Input ~ 0
D+
Text GLabel 1600 1600 2    50   Input ~ 0
D-
Text GLabel 4000 2300 0    50   Input ~ 0
D+
Text GLabel 4000 2200 0    50   Input ~ 0
D-
Wire Wire Line
	4000 2200 4100 2200
Wire Wire Line
	4000 2300 4100 2300
Wire Wire Line
	1600 1600 1500 1600
Wire Wire Line
	1500 1500 1600 1500
$Comp
L Switch:SW_Push SW1
U 1 1 60E9C8B4
P 7600 1800
F 0 "SW1" H 7800 1900 50  0000 R CNN
F 1 "SW_RESET" H 7550 1900 50  0000 R CNN
F 2 "Button_Switch_SMD:SW_SPST_B3U-1000P-B" H 7600 2000 50  0001 C CNN
F 3 "~" H 7600 2000 50  0001 C CNN
	1    7600 1800
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C2
U 1 1 60EA118C
P 7300 1600
F 0 "C2" V 7552 1600 50  0000 C CNN
F 1 "10uF" V 7461 1600 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 7338 1450 50  0001 C CNN
F 3 "~" H 7300 1600 50  0001 C CNN
	1    7300 1600
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 60EA41E2
P 7150 1700
F 0 "#PWR0107" H 7150 1450 50  0001 C CNN
F 1 "GND" H 7155 1527 50  0000 C CNN
F 2 "" H 7150 1700 50  0001 C CNN
F 3 "" H 7150 1700 50  0001 C CNN
	1    7150 1700
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0109
U 1 1 60EA502F
P 7450 1200
F 0 "#PWR0109" H 7450 1050 50  0001 C CNN
F 1 "+3V3" H 7465 1373 50  0000 C CNN
F 2 "" H 7450 1200 50  0001 C CNN
F 3 "" H 7450 1200 50  0001 C CNN
	1    7450 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 1600 7150 1700
$Comp
L Device:R R3
U 1 1 60EAAA83
P 7450 1400
F 0 "R3" H 7520 1446 50  0000 L CNN
F 1 "10K" H 7520 1355 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 7380 1400 50  0001 C CNN
F 3 "~" H 7450 1400 50  0001 C CNN
	1    7450 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 1550 7450 1600
Wire Wire Line
	7450 1600 7600 1600
Wire Wire Line
	7450 1200 7450 1250
Wire Wire Line
	7600 1600 7850 1600
Connection ~ 7600 1600
$Comp
L power:GND #PWR0110
U 1 1 60EB5BAB
P 7600 2100
F 0 "#PWR0110" H 7600 1850 50  0001 C CNN
F 1 "GND" H 7605 1927 50  0000 C CNN
F 2 "" H 7600 2100 50  0001 C CNN
F 3 "" H 7600 2100 50  0001 C CNN
	1    7600 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 2100 7600 2000
Text Notes 9250 5100 0    50   ~ 0
Decoupling capacitors
$Comp
L power:GND #PWR0111
U 1 1 60EBC3E7
P 9700 5850
F 0 "#PWR0111" H 9700 5600 50  0001 C CNN
F 1 "GND" H 9705 5677 50  0000 C CNN
F 2 "" H 9700 5850 50  0001 C CNN
F 3 "" H 9700 5850 50  0001 C CNN
	1    9700 5850
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0112
U 1 1 60EBD934
P 9700 5350
F 0 "#PWR0112" H 9700 5200 50  0001 C CNN
F 1 "+3V3" H 9715 5523 50  0000 C CNN
F 2 "" H 9700 5350 50  0001 C CNN
F 3 "" H 9700 5350 50  0001 C CNN
	1    9700 5350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 60EBFBEA
P 9800 5600
F 0 "C5" H 9915 5646 50  0000 L CNN
F 1 "10uF" H 9915 5555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9838 5450 50  0001 C CNN
F 3 "~" H 9800 5600 50  0001 C CNN
	1    9800 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 60EC10E0
P 9600 5600
F 0 "C4" H 9715 5646 50  0000 L CNN
F 1 "100nF" H 9715 5555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9638 5450 50  0001 C CNN
F 3 "~" H 9600 5600 50  0001 C CNN
	1    9600 5600
	-1   0    0    1   
$EndComp
Wire Wire Line
	9600 5450 9600 5400
Wire Wire Line
	9600 5400 9700 5400
Wire Wire Line
	9700 5400 9700 5350
Wire Wire Line
	9800 5450 9800 5400
Wire Wire Line
	9800 5400 9700 5400
Connection ~ 9700 5400
Wire Wire Line
	9600 5750 9600 5800
Wire Wire Line
	9600 5800 9700 5800
Wire Wire Line
	9700 5800 9700 5850
Wire Wire Line
	9800 5750 9800 5800
Wire Wire Line
	9800 5800 9700 5800
Connection ~ 9700 5800
$Comp
L Device:R R4
U 1 1 60ED364D
P 9600 1700
F 0 "R4" V 9393 1700 50  0000 C CNN
F 1 "470" V 9484 1700 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 9530 1700 50  0001 C CNN
F 3 "~" H 9600 1700 50  0001 C CNN
	1    9600 1700
	0    1    1    0   
$EndComp
$Comp
L Device:R R5
U 1 1 60ED4BD6
P 9600 1900
F 0 "R5" V 9393 1900 50  0000 C CNN
F 1 "470" V 9484 1900 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 9530 1900 50  0001 C CNN
F 3 "~" H 9600 1900 50  0001 C CNN
	1    9600 1900
	0    -1   -1   0   
$EndComp
Text GLabel 9850 1700 2    50   Input ~ 0
RX_CP
Text GLabel 9850 1900 2    50   Input ~ 0
TX_CP
Wire Wire Line
	9750 1700 9850 1700
Wire Wire Line
	9450 1700 9350 1700
Wire Wire Line
	9450 1900 9350 1900
Wire Wire Line
	9750 1900 9850 1900
Text GLabel 5600 2200 2    50   Input ~ 0
TX_CP
Text GLabel 5600 2300 2    50   Input ~ 0
RX_CP
Wire Wire Line
	5600 2200 5500 2200
Wire Wire Line
	5600 2300 5500 2300
Text GLabel 5600 2500 2    50   Input ~ 0
RTS_CP
Wire Wire Line
	5500 2500 5600 2500
Text GLabel 5600 1900 2    50   Input ~ 0
DTR_CP
Wire Wire Line
	5500 1900 5600 1900
$Comp
L power:VBUS #PWR0113
U 1 1 60EF0BEA
P 1650 1300
F 0 "#PWR0113" H 1650 1150 50  0001 C CNN
F 1 "VBUS" H 1665 1473 50  0000 C CNN
F 2 "" H 1650 1300 50  0001 C CNN
F 3 "" H 1650 1300 50  0001 C CNN
	1    1650 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 1300 1650 1300
$Comp
L power:VBUS #PWR0114
U 1 1 60EF7989
P 3800 1900
F 0 "#PWR0114" H 3800 1750 50  0001 C CNN
F 1 "VBUS" H 3815 2073 50  0000 C CNN
F 2 "" H 3800 1900 50  0001 C CNN
F 3 "" H 3800 1900 50  0001 C CNN
	1    3800 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 1900 4000 1900
Wire Wire Line
	4100 1700 4000 1700
Wire Wire Line
	4600 1300 4600 1400
Wire Wire Line
	4600 1300 4800 1300
Wire Wire Line
	4800 1300 4800 1400
Connection ~ 4600 1300
$Comp
L power:+3V3 #PWR0115
U 1 1 60EFF4D6
P 4600 1200
F 0 "#PWR0115" H 4600 1050 50  0001 C CNN
F 1 "+3V3" H 4615 1373 50  0000 C CNN
F 2 "" H 4600 1200 50  0001 C CNN
F 3 "" H 4600 1200 50  0001 C CNN
	1    4600 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 1200 4600 1300
$Comp
L Device:C C3
U 1 1 60F020E0
P 4000 3250
F 0 "C3" H 3885 3204 50  0000 R CNN
F 1 "4.7uF" H 3885 3295 50  0000 R CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 4038 3100 50  0001 C CNN
F 3 "~" H 4000 3250 50  0001 C CNN
	1    4000 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 3100 4000 3000
Wire Wire Line
	4000 3000 4100 3000
$Comp
L power:GND #PWR0116
U 1 1 60F0B743
P 4000 3500
F 0 "#PWR0116" H 4000 3250 50  0001 C CNN
F 1 "GND" H 4005 3327 50  0000 C CNN
F 2 "" H 4000 3500 50  0001 C CNN
F 3 "" H 4000 3500 50  0001 C CNN
	1    4000 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 3400 4000 3500
$Comp
L power:GND #PWR0117
U 1 1 60F11906
P 4850 3400
F 0 "#PWR0117" H 4850 3150 50  0001 C CNN
F 1 "GND" H 4855 3227 50  0000 C CNN
F 2 "" H 4850 3400 50  0001 C CNN
F 3 "" H 4850 3400 50  0001 C CNN
	1    4850 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 3300 4800 3350
Wire Wire Line
	4800 3350 4850 3350
Wire Wire Line
	4850 3350 4850 3400
Wire Wire Line
	4900 3300 4900 3350
Wire Wire Line
	4900 3350 4850 3350
Connection ~ 4850 3350
$Comp
L power:VBUS #PWR0118
U 1 1 60F18E0A
P 4150 6750
F 0 "#PWR0118" H 4150 6600 50  0001 C CNN
F 1 "VBUS" H 4165 6923 50  0000 C CNN
F 2 "" H 4150 6750 50  0001 C CNN
F 3 "" H 4150 6750 50  0001 C CNN
	1    4150 6750
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR0119
U 1 1 60F1BD37
P 7000 5400
F 0 "#PWR0119" H 7000 5250 50  0001 C CNN
F 1 "VBUS" H 7015 5573 50  0000 C CNN
F 2 "" H 7000 5400 50  0001 C CNN
F 3 "" H 7000 5400 50  0001 C CNN
	1    7000 5400
	1    0    0    -1  
$EndComp
Text GLabel 4500 4350 2    50   Input ~ 0
GPIO0
Text GLabel 4500 4950 2    50   Input ~ 0
DTR_CP
Text GLabel 4500 5100 2    50   Input ~ 0
RTS_CP
Text GLabel 4500 5700 2    50   Input ~ 0
RESET
Text GLabel 7850 1500 1    50   Input ~ 0
RESET
Wire Wire Line
	7850 1600 7850 1500
Connection ~ 7850 1600
Wire Wire Line
	7850 1600 8150 1600
$Comp
L Device:R R6
U 1 1 60F2DC44
P 3850 4650
F 0 "R6" V 3643 4650 50  0000 C CNN
F 1 "10K" V 3734 4650 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3780 4650 50  0001 C CNN
F 3 "~" H 3850 4650 50  0001 C CNN
	1    3850 4650
	0    1    1    0   
$EndComp
$Comp
L Device:R R7
U 1 1 60F2E73C
P 3850 5400
F 0 "R7" V 3643 5400 50  0000 C CNN
F 1 "10K" V 3734 5400 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3780 5400 50  0001 C CNN
F 3 "~" H 3850 5400 50  0001 C CNN
	1    3850 5400
	0    1    1    0   
$EndComp
Text GLabel 3600 4650 0    50   Input ~ 0
RTS_CP
Text GLabel 3600 5400 0    50   Input ~ 0
DTR_CP
Wire Wire Line
	3600 5400 3700 5400
Wire Wire Line
	3600 4650 3700 4650
Wire Wire Line
	4000 4650 4100 4650
Wire Wire Line
	4000 5400 4100 5400
Wire Wire Line
	4400 5200 4400 5100
Wire Wire Line
	4400 5100 4500 5100
Wire Wire Line
	4400 4850 4400 4950
Wire Wire Line
	4400 4950 4500 4950
Wire Wire Line
	4400 4450 4400 4350
Wire Wire Line
	4400 4350 4500 4350
Wire Wire Line
	4400 5600 4400 5700
Wire Wire Line
	4400 5700 4500 5700
Text GLabel 9450 1600 1    50   Input ~ 0
GPIO0
Wire Wire Line
	9350 1600 9450 1600
NoConn ~ 5500 2900
NoConn ~ 5500 3000
NoConn ~ 5500 2600
NoConn ~ 4100 2700
NoConn ~ 4100 2800
NoConn ~ 5500 2000
NoConn ~ 5500 1800
NoConn ~ 5500 1700
NoConn ~ 5000 1400
Wire Notes Line
	5000 5950 5000 4150
Wire Notes Line
	5000 4150 3150 4150
Wire Notes Line
	3150 4150 3150 5950
Wire Notes Line
	3150 5950 5000 5950
Wire Notes Line
	3200 7050 4300 7050
Wire Notes Line
	3200 6450 4300 6450
Wire Notes Line
	1950 6400 950  6400
Wire Notes Line
	950  6400 950  7200
Wire Notes Line
	950  7200 1950 7200
Wire Notes Line
	1950 7200 1950 6400
Wire Notes Line
	1900 4750 1900 5400
Wire Notes Line
	1900 5400 950  5400
Wire Notes Line
	950  5400 950  4750
Wire Notes Line
	950  4750 1900 4750
Text Notes 3150 4150 0    50   ~ 0
Transistors for automatic reset on program
Wire Notes Line
	10150 5100 10150 6100
Wire Notes Line
	10150 6100 9250 6100
Wire Notes Line
	9250 6100 9250 5100
Wire Notes Line
	9250 5100 10150 5100
Wire Notes Line
	5950 3750 5950 950 
Wire Notes Line
	2450 950  2450 3750
Text Notes 2450 950  0    50   ~ 0
Programmer IC
Wire Notes Line
	1400 2700 1400 4100
Wire Notes Line
	1400 4100 950  4100
Wire Notes Line
	950  4100 950  2700
Wire Notes Line
	950  2700 1400 2700
Wire Notes Line
	950  950  950  2250
Wire Notes Line
	2050 2250 2050 950 
Wire Notes Line
	950  2250 2050 2250
Wire Notes Line
	950  950  2050 950 
Wire Notes Line
	6900 5100 6900 6050
Wire Notes Line
	6900 950  6900 4550
Wire Notes Line
	6900 4550 10150 4550
Wire Notes Line
	10150 4550 10150 950 
Wire Notes Line
	10150 950  6900 950 
Text Notes 6900 950  0    50   ~ 0
ESP32 IC
Wire Notes Line
	8100 6050 8100 5100
Wire Notes Line
	6900 6050 8100 6050
Wire Notes Line
	8100 5100 6900 5100
Text Label 1100 3350 3    25   ~ 0
LED_V
Text Label 4000 5400 0    25   ~ 0
Q2_IN
Text Label 4000 4650 0    25   ~ 0
Q1_IN
Text Label 4000 3000 3    25   ~ 0
ROM_DC
Text Label 3700 6700 3    25   ~ 0
RELAY_V
Wire Wire Line
	3600 6700 3600 6800
Wire Wire Line
	3500 6700 3500 6800
Wire Wire Line
	3400 6700 3400 6800
Wire Wire Line
	3700 6700 3700 6800
Text Label 9350 1900 0    25   ~ 0
RX_ESP
Text Label 9350 1700 0    25   ~ 0
TX_ESP
Wire Notes Line
	4300 6450 4300 7050
Wire Notes Line
	3200 6450 3200 7050
$Comp
L Device:LED D3
U 1 1 61406B79
P 3500 2250
F 0 "D3" H 3550 2350 50  0000 R CNN
F 1 "TX_LED" H 3450 2350 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 3500 2250 50  0001 C CNN
F 3 "~" H 3500 2250 50  0001 C CNN
	1    3500 2250
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR0120
U 1 1 61406B7F
P 3500 1600
F 0 "#PWR0120" H 3500 1450 50  0001 C CNN
F 1 "+3V3" H 3515 1773 50  0000 C CNN
F 2 "" H 3500 1600 50  0001 C CNN
F 3 "" H 3500 1600 50  0001 C CNN
	1    3500 1600
	1    0    0    -1  
$EndComp
$Comp
L Device:R R9
U 1 1 61406B85
P 3500 1850
F 0 "R9" H 3570 1896 50  0000 L CNN
F 1 "330" H 3570 1805 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3430 1850 50  0001 C CNN
F 3 "~" H 3500 1850 50  0001 C CNN
	1    3500 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 1600 3500 1700
Wire Wire Line
	3500 2000 3500 2100
Wire Wire Line
	3500 2400 3500 2500
Text Label 3500 2000 3    25   ~ 0
TX_LED_V
$Comp
L power:+3V3 #PWR0121
U 1 1 6140B00D
P 3200 1600
F 0 "#PWR0121" H 3200 1450 50  0001 C CNN
F 1 "+3V3" H 3215 1773 50  0000 C CNN
F 2 "" H 3200 1600 50  0001 C CNN
F 3 "" H 3200 1600 50  0001 C CNN
	1    3200 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 2500 4100 2500
Text Label 3200 2000 3    25   ~ 0
RX_LED_V
Wire Wire Line
	3200 2000 3200 2100
$Comp
L Device:R R8
U 1 1 6140B013
P 3200 1850
F 0 "R8" H 3270 1896 50  0000 L CNN
F 1 "330" H 3270 1805 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3130 1850 50  0001 C CNN
F 3 "~" H 3200 1850 50  0001 C CNN
	1    3200 1850
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D2
U 1 1 6140B007
P 3200 2250
F 0 "D2" H 3250 2350 50  0000 R CNN
F 1 "RX_LED" H 3150 2350 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 3200 2250 50  0001 C CNN
F 3 "~" H 3200 2250 50  0001 C CNN
	1    3200 2250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3200 1600 3200 1700
Wire Wire Line
	3200 2400 3200 2600
Wire Wire Line
	3200 2600 4100 2600
$Comp
L Device:R R10
U 1 1 614858EC
P 5650 2800
F 0 "R10" V 5857 2800 50  0000 C CNN
F 1 "4k7" V 5766 2800 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 5580 2800 50  0001 C CNN
F 3 "~" H 5650 2800 50  0001 C CNN
	1    5650 2800
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR0122
U 1 1 61488FE0
P 5800 2800
F 0 "#PWR0122" H 5800 2650 50  0001 C CNN
F 1 "+3V3" H 5815 2973 50  0000 C CNN
F 2 "" H 5800 2800 50  0001 C CNN
F 3 "" H 5800 2800 50  0001 C CNN
	1    5800 2800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C8
U 1 1 614A4233
P 2750 3200
F 0 "C8" H 2865 3246 50  0000 L CNN
F 1 "1uF" H 2800 3100 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2788 3050 50  0001 C CNN
F 3 "~" H 2750 3200 50  0001 C CNN
	1    2750 3200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0123
U 1 1 614A5B2C
P 2750 3350
F 0 "#PWR0123" H 2750 3100 50  0001 C CNN
F 1 "GND" H 2755 3177 50  0000 C CNN
F 2 "" H 2750 3350 50  0001 C CNN
F 3 "" H 2750 3350 50  0001 C CNN
	1    2750 3350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C7
U 1 1 614AD4E9
P 2750 2350
F 0 "C7" H 2865 2396 50  0000 L CNN
F 1 "100nF" H 2800 2250 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2788 2200 50  0001 C CNN
F 3 "~" H 2750 2350 50  0001 C CNN
	1    2750 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0124
U 1 1 614AD4EF
P 2750 2500
F 0 "#PWR0124" H 2750 2250 50  0001 C CNN
F 1 "GND" H 2755 2327 50  0000 C CNN
F 2 "" H 2750 2500 50  0001 C CNN
F 3 "" H 2750 2500 50  0001 C CNN
	1    2750 2500
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0125
U 1 1 614BD82D
P 2750 2200
F 0 "#PWR0125" H 2750 2050 50  0001 C CNN
F 1 "+3V3" H 2765 2373 50  0000 C CNN
F 2 "" H 2750 2200 50  0001 C CNN
F 3 "" H 2750 2200 50  0001 C CNN
	1    2750 2200
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0126
U 1 1 614C9CF0
P 2750 3050
F 0 "#PWR0126" H 2750 2900 50  0001 C CNN
F 1 "+3V3" H 2765 3223 50  0000 C CNN
F 2 "" H 2750 3050 50  0001 C CNN
F 3 "" H 2750 3050 50  0001 C CNN
	1    2750 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 1700 4000 1900
Connection ~ 4000 1900
Wire Wire Line
	4000 1900 4100 1900
$Comp
L Device:C C6
U 1 1 614D9CE4
P 2750 1500
F 0 "C6" H 2865 1546 50  0000 L CNN
F 1 "1uF" H 2800 1400 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2788 1350 50  0001 C CNN
F 3 "~" H 2750 1500 50  0001 C CNN
	1    2750 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0127
U 1 1 614D9CEA
P 2750 1650
F 0 "#PWR0127" H 2750 1400 50  0001 C CNN
F 1 "GND" H 2755 1477 50  0000 C CNN
F 2 "" H 2750 1650 50  0001 C CNN
F 3 "" H 2750 1650 50  0001 C CNN
	1    2750 1650
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR0128
U 1 1 614E0E6F
P 2750 1350
F 0 "#PWR0128" H 2750 1200 50  0001 C CNN
F 1 "VBUS" H 2765 1523 50  0000 C CNN
F 2 "" H 2750 1350 50  0001 C CNN
F 3 "" H 2750 1350 50  0001 C CNN
	1    2750 1350
	1    0    0    -1  
$EndComp
Wire Notes Line
	2450 3750 5950 3750
Wire Notes Line
	2450 950  5950 950 
$Comp
L Transistor_BJT:MMBT3904 Q1
U 1 1 6150D276
P 4300 4650
F 0 "Q1" H 4491 4696 50  0000 L CNN
F 1 "MMBT3904" H 4491 4605 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 4500 4575 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3903-D.PDF" H 4300 4650 50  0001 L CNN
	1    4300 4650
	1    0    0    -1  
$EndComp
$Comp
L Transistor_BJT:MMBT3904 Q2
U 1 1 61516DEC
P 4300 5400
F 0 "Q2" H 4491 5446 50  0000 L CNN
F 1 "MMBT3904" H 4491 5355 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 4500 5325 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3903-D.PDF" H 4300 5400 50  0001 L CNN
	1    4300 5400
	1    0    0    -1  
$EndComp
Connection ~ 7450 1600
$EndSCHEMATC
